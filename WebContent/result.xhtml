<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<style type="text/css">
	
		.largeTable {
			width: 250%;
			height: 60%;
		}
		
    	.medColumn {
    		width: 200%;
    	}

    	.outputLabel {
			font-weight: bold;
    		color: green;
		}

</style> 

	<title>Research result</title>
</h:head>
<h:body>
	<h:outputStylesheet name="style.css" />


	<fieldset>
		<legend>
			<strong>Here are the offers that match your criteria</strong>
		</legend>		
		<br></br>	
		<h:form id="form">

    <div class="card">
        <p:dataTable id="offerTable" var="offer" value="#{resultBean.offers}" styleClass="largeTable">
            <p:column headerText="Available trip offers : ">
                <h:outputText value="#{offer.id}" />
            </p:column>
            <p:column headerText="Total price :">
                <h:outputText value="#{offer.totalPrice} €" styleClass="outputLabel"/>
            </p:column>
            <p:column headerText="Hotels :">
                <p:dataTable id="hotelTable" var="hotelReservation" value="#{offer.hotelReservations}">
               	 	<p:column>
                		<h:outputText value="#{hotelReservation.hotel.name}" />
                	</p:column>
                	<p:column>
                		<h:outputText value="#{hotelReservation.hotel.pricePerNight} €" />
                	</p:column>
                	<p:column>
                		<h:outputText value="#{hotelReservation.stayDuration} days." />
                	</p:column>
           	 	</p:dataTable>
            </p:column>
            <p:column>
                <p:dataTable id="excursionTable" var="excursion" value="#{offer.excursions}">
                	<p:column  headerText="Site :">
               			<h:outputText value="Day #{excursion.day}" />
               			<p:dataTable id="sitesTable" var="site" value="#{excursion.sites}">
               				<p:column>
                				<h:outputText value="#{site.name}"/>
                			</p:column>
                			<p:column>
                				<h:outputText value="#{site.pricePerVisit} €" />
            				</p:column>
               			</p:dataTable>
            		</p:column>
                </p:dataTable>
            </p:column>
        </p:dataTable>
    </div>
   	 	</h:form>	
	</fieldset>
</h:body>
</html>
